<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>Ajax starting point</title>
	</head>

	<body>
		<pre></pre>
		<button id="button">click me</button>
		<script>
			document.querySelector("#button").addEventListener("click", run);

			function run() {
				//this is just an example. Code wont run because of security issues, utl should be external, not local. In order example to work either local server should be created or files located externally

				//ajax method
				/* 				xhr = new XMLHttpRequest();
				xhr.open("GET", url, true);
				xhr.responseType = "text";
				xhr.onload = function () {
					console.log(xhr.response);
					poemDisplay.textContent = xhr.response;
				};
				xhr.send(); */

				//using fetch method
				//not so nice way:
				/* 				let myFetch = fetch(url);
							myFetch.then(function (response) {
								response.text().then(function (data) {
									poemDisplay.textContent = data;
								});
							}); */
				//cleaner way:
				fetch('"sample.txt"')
					.then((response) => response.text())
					.then((data) => {
						console.log(data);
						poemDisplay.textContent = data;
					});
			}
		</script>
	</body>
</html>
